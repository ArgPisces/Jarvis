# LLM 配置组的使用

`Jarvis` 支持在配置文件中定义不同的 LLM (Large Language Model) 配置组，以适应不同的任务需求和成本考量。例如，您可以配置一个使用 `kimi` 或 `tongyi` 等免费模型的配置组，用于日常、成本敏感的任务；同时配置另一个使用 `Claude 3.5 Sonnet` 或 `Gemini 2.5 Pro` 等功能强大但价格昂贵模型的配置组，用于需要高质量输出的核心任务。

## 如何配置

在 `Jarvis` 的配置文件（通常是 `~/.jarvis/config.yaml`）中，您可以定义 `JARVIS_LLM_GROUPS`。这是一个包含多个配置组的列表。下面是一个示例：

```yaml
# 在 config.yaml 中定义 LLM 配置组列表
JARVIS_LLM_GROUPS:
        - gemini:
                  JARVIS_PLATFORM: ai8
                  JARVIS_MODEL: gemini-2.5-pro
                  JARVIS_THINKING_PLATFORM: ai8
                  JARVIS_THINKING_MODEL: gemini-2.5-pro-thinking
        - claude:
                  JARVIS_PLATFORM: openai
                  JARVIS_MODEL: claude-3-5-sonnet-20240620
                  JARVIS_THINKING_PLATFORM: openai
                  JARVIS_THINKING_MODEL: claude-3-5-sonnet-20240620
        - kimi:
                  JARVIS_PLATFORM: kimi
                  JARVIS_MODEL: k1.5
                  JARVIS_THINKING_PLATFORM: kimi
                  JARVIS_THINKING_MODEL: k2
        - tongyi:
                  JARVIS_PLATFORM: tongyi
                  JARVIS_MODEL: Normal
                  JARVIS_THINKING_PLATFORM: tongyi
                  JARVIS_THINKING_MODEL: Thinking

# 设置默认使用的配置组
JARVIS_LLM_GROUP: kimi
```

**配置说明:**
*   `JARVIS_LLM_GROUPS`: 一个 YAML 列表，每个列表项是一个独立的配置组。
*   `gemini`, `claude`, `kimi`: 这些是配置组的名称。
*   `JARVIS_PLATFORM`: 指定该组使用的 LLM 平台（如 `ai8`, `openai`, `kimi`, `tongyi`）。
*   `JARVIS_MODEL`: 指定在该平台上使用的具体模型。
*   `JARVIS_THINKING_MODEL` 和 `JARVIS_THINKING_PLATFORM`: 用于配置 `Jarvis` 内部思考链使用的模型和平台。
*   `JARVIS_LLM_GROUP`: 用于设置默认情况下使用的配置组。

## 如何使用

在命令行中，您可以通过 `--llm_group` 或其短格式 `-g` 参数来灵活选择要使用的配置组。该参数适用于 `jvs` (通用代理), `jca` (代码代理), `jcr` (代码审查) 等多个命令。

### 示例

1.  **使用默认配置进行通用任务**：
    如果您不指定 `-g` 参数，`Jarvis` 将使用 `JARVIS_LLM_GROUP` 定义的默认配置组（在上面的例子中是 `kimi`）。
    ```bash
    # 使用 jvs (jarvis 的别名) 执行一个简单的任务
    jvs -t "你好"
    ```

2.  **使用 Gemini 配置组进行问答**：
    通过 `-g gemini` 来指定使用 `gemini` 配置组进行对话。
    ```bash
    jvs -g gemini -t "用一句话介绍一下 Gemini"
    ```

3.  **使用 Claude 配置组进行代码审查**：
    对于需要更高代码理解能力的任务（如代码审查），可以切换到更强大的模型组。
    ```bash
    # 使用 jcr (jarvis-code-review 的别名) 审查当前代码变更
    jcr current -g claude
    ```

通过这种方式，您可以轻松地在不同的 LLM 服务商和模型之间切换，以最佳的成本效益比完成您的工作。
